import{Z as I,V as B,N as v,C as P}from"./chunks/circuit.09598ca0.js";import{P as b}from"./chunks/progress-bar.5a5d4239.js";import{d as T,h as n,x as C,j as k,z as V,o as _,c as x,H as t,w as A,k as s,l as j,_ as O,C as q,a as r,Q as M}from"./chunks/framework.2ce6f3f6.js";import"./chunks/theme.0766ca56.js";const N={class:"cache"},S={class:"content"},R={class:"form"},H={class:"row"},U={class:"row"},$={class:"visualization"},K={class:"row"},z={class:"row"},L=T({__name:"cache",setup(w){const o=n(null),e=n(3e3),l=n(5e3),i=n(0),c=n(0),y=n(0),h=n(0),E=n(0),d=n("var(--vp-c-green-2)"),a=new I({ttl:e.value,cacheClearInterval:l.value,adjustCacheParams:()=>[]}),D=new B({options:{modules:[a]}});C([e],()=>{a.ttl=e.value}),C([l],()=>{a.cacheClearInterval=l.value});function f(){c.value&&c.value<e.value||(d.value="var(--vp-c-green-2)",y.value=Date.now(),h.value=window.setInterval(()=>{i.value=Date.now()-y.value,i.value>=o.value.duration&&clearInterval(h.value)},100),E.value=window.setInterval(()=>{c.value=Date.now()-y.value,c.value>=e.value&&(d.value="var(--vp-c-yellow-2)",clearInterval(E.value))},100))}function m(){o.value.logs.push("Hitting cache.")}function g(){o.value.logs.push("Hitting old cache on failure.")}return k(()=>{a.on("execute",f),a.on("cache-hit",m),a.on("cache-hit-old",g)}),V(()=>{a.off("execute",f),a.off("cache-hit",m),a.off("cache-hit-old",g)}),(X,p)=>(_(),x("div",N,[t(P,{ref_key:"circuitRef",ref:o,circuit:j(D)},{default:A(()=>{var F;return[s("div",S,[s("div",R,[s("div",H,[t(v,{modelValue:e.value,"onUpdate:modelValue":p[0]||(p[0]=u=>e.value=u),label:"TTL (in ms):"},null,8,["modelValue"])]),s("div",U,[t(v,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=u=>l.value=u),label:"Clear Interval (in ms):"},null,8,["modelValue"])])]),s("div",$,[s("div",K,[t(b,{class:"progress",modelValue:i.value,max:(F=o.value)==null?void 0:F.duration,label:"Progress:"},null,8,["modelValue","max"])]),s("div",z,[t(b,{class:"internal",modelValue:c.value,color:d.value,max:e.value,label:"Cache Duration:"},null,8,["modelValue","color","max"])])])])]}),_:1},8,["circuit"])]))}});const J=O(L,[["__scopeId","data-v-c88518cc"]]),Q=s("h1",{id:"cache",tabindex:"-1"},[r("Cache "),s("a",{class:"header-anchor",href:"#cache","aria-label":'Permalink to "Cache"'},"â€‹")],-1),Z=s("p",null,[r("The "),s("code",null,"Cache"),r(" module allows you to "),s("strong",null,"cache"),r(" your results for a configurable amount of time.")],-1),G=M("",12),ns=JSON.parse('{"title":"Cache","description":"","frontmatter":{},"headers":[],"relativePath":"guide/api/modules/cache.md","filePath":"guide/api/modules/cache.md"}'),W={name:"guide/api/modules/cache.md"},ls=Object.assign(W,{setup(w){return(o,e)=>{const l=q("ClientOnly");return _(),x("div",null,[Q,Z,t(l,null,{default:A(()=>[t(J)]),_:1}),G])}}});export{ns as __pageData,ls as default};
