import{Z as _,V as B}from"./chunks/theme.CFNbPdFi.js";import{C as P,N as v}from"./chunks/circuit.y_FAFz-t.js";import{P as F}from"./chunks/progress-bar.DdOpSzUH.js";import{d as I,p as i,q as C,v as T,x as V,c as x,o as b,G as n,k as q,w as A,j as e,_ as O,C as j,a2 as N,a as c}from"./chunks/framework.DYiJ1WDi.js";const M={class:"cache"},S={class:"content"},R={class:"form"},U={class:"row"},H={class:"row"},K={class:"visualization"},L={class:"row"},z={class:"row"},G=I({__name:"cache",setup(D){const l=i(null),s=i(3e3),t=i(5e3),d=i(0),h=i(0),p=i(0),u=i(0),g=i(0),o=i("var(--vp-c-green-2)"),a=new _({ttl:s.value,cacheClearInterval:t.value,adjustCacheParams:()=>[]}),w=new B({options:{modules:[a]}});C([s],()=>{a.ttl=s.value}),C([t],()=>{a.cacheClearInterval=t.value});function y(){h.value&&h.value<s.value||(o.value="var(--vp-c-green-2)",p.value=Date.now(),u.value=window.setInterval(()=>{d.value=Date.now()-p.value,d.value>=l.value.duration&&clearInterval(u.value)},100),g.value=window.setInterval(()=>{h.value=Date.now()-p.value,h.value>=s.value&&(o.value="var(--vp-c-yellow-2)",clearInterval(g.value))},100))}function E(){l.value.logs.push("Hitting cache.")}function f(){l.value.logs.push("Hitting old cache on failure.")}return T(()=>{a.on("execute",y),a.on("cache-hit",E),a.on("cache-hit-old",f)}),V(()=>{a.off("execute",y),a.off("cache-hit",E),a.off("cache-hit-old",f)}),($,r)=>(b(),x("div",M,[n(P,{ref_key:"circuitRef",ref:l,circuit:q(w)},{default:A(()=>{var m;return[e("div",S,[e("div",R,[e("div",U,[n(v,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=k=>s.value=k),label:"TTL (in ms):"},null,8,["modelValue"])]),e("div",H,[n(v,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=k=>t.value=k),label:"Clear Interval (in ms):"},null,8,["modelValue"])])]),e("div",K,[e("div",L,[n(F,{class:"progress",modelValue:d.value,max:(m=l.value)==null?void 0:m.duration,label:"Progress:"},null,8,["modelValue","max"])]),e("div",z,[n(F,{class:"internal",modelValue:h.value,color:o.value,max:s.value,label:"Cache Duration:"},null,8,["modelValue","color","max"])])])])]}),_:1},8,["circuit"])]))}}),J=O(G,[["__scopeId","data-v-c88518cc"]]),ss=JSON.parse('{"title":"Cache","description":"","frontmatter":{},"headers":[],"relativePath":"guide/api/modules/cache.md","filePath":"guide/api/modules/cache.md"}'),Z={name:"guide/api/modules/cache.md"},es=Object.assign(Z,{setup(D){return(l,s)=>{const t=j("ClientOnly");return b(),x("div",null,[s[0]||(s[0]=e("h1",{id:"cache",tabindex:"-1"},[c("Cache "),e("a",{class:"header-anchor",href:"#cache","aria-label":'Permalink to "Cache"'},"â€‹")],-1)),s[1]||(s[1]=e("p",null,[c("The "),e("code",null,"Cache"),c(" module allows you to "),e("strong",null,"cache"),c(" your results for a configurable amount of time.")],-1)),n(t,null,{default:A(()=>[n(J)]),_:1}),s[2]||(s[2]=N("",12))])}}});export{ss as __pageData,es as default};
