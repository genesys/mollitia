<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sliding Count | Mollitia</title>
    <meta name="description" content="A VitePress site">
    <link rel="preload stylesheet" href="/assets/style.bc385a54.css" as="style">
    
    <script type="module" src="/assets/app.ca62d28a.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.b96a75df.js">
    <link rel="modulepreload" href="/assets/chunks/theme.a2ff1341.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-817c8e44.2df6f879.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-61eb444c.06870418.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-v2-2f8f667a.b311de21.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-9cfc3649.d29e55a8.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-6b463803.eed5af5f.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-db6931fb.31bfe405.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-a336098b.ecb756cf.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-a5166659.4e9ab18d.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-6c355bbc.540dbbd4.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-f746c04c.d4fcbab0.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-4038b16c.e45cbee6.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-465a088a.abb55267.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-48ab76fb.95be33f2.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-8ecb0bfc.860ada92.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-b620d43f.44a64392.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-2671c3d1.5f2b7184.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-deae3313.d1568c2e.js">
    <link rel="modulepreload" href="/assets/chunks/flowchart-elk-definition-e097735e.a40fda01.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-732a2638.a2ad5399.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-617cf8dd.2bf51a02.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-6db3d513.02418ee1.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.ade1a5ba.js">
    <link rel="modulepreload" href="/assets/chunks/circuit-breaker-diagram.7c56a8fe.js">
    <link rel="modulepreload" href="/assets/chunks/circuit.96ad7feb.js">
    <link rel="modulepreload" href="/assets/chunks/progress-bar.d9b4ef32.js">
    <link rel="modulepreload" href="/assets/guide_api_modules_breaker_sliding-count.md.b5350619.lean.js">
    <link rel="icon" href="/favicon.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-63b43b87><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c3508ec8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c3508ec8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-63b43b87 data-v-f1e365da><div class="VPNavBar has-sidebar" data-v-f1e365da data-v-fd660878><div class="container" data-v-fd660878><div class="title" data-v-fd660878><div class="VPNavBarTitle has-sidebar" data-v-fd660878 data-v-9cb98dab><a class="title" href="/" data-v-9cb98dab><!--[--><!--]--><!--[--><img class="VPImage logo" src="/favicon.svg" alt data-v-35a7d0b8><!--]--><!--[-->Mollitia<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-fd660878><div class="curtain" data-v-fd660878></div><div class="content-body" data-v-fd660878><!--[--><!--]--><div class="VPNavBarSearch search" data-v-fd660878><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-fd660878 data-v-492ea56d><span id="main-nav-aria-label" class="visually-hidden" data-v-492ea56d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/what-is-mollitia" tabindex="0" data-v-492ea56d data-v-2781b5e7><!--[--><span data-v-2781b5e7>Guide</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-492ea56d data-v-473f4f87><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-473f4f87><span class="text" data-v-473f4f87><!----><span data-v-473f4f87>Links</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-473f4f87><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-473f4f87><div class="VPMenu" data-v-473f4f87 data-v-97491713><div class="items" data-v-97491713><!--[--><!--[--><div class="VPMenuLink" data-v-97491713 data-v-8b74d055><a class="VPLink link vp-external-link-icon" href="https://github.com/genesys/mollitia/blob/main/CONTRIBUTING.md" target="_blank" rel="noreferrer" data-v-8b74d055><!--[-->Contributing<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-97491713 data-v-8b74d055><a class="VPLink link vp-external-link-icon" href="https://github.com/genesys/mollitia/blob/main/CHANGELOG.md" target="_blank" rel="noreferrer" data-v-8b74d055><!--[-->Changelog<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-fd660878 data-v-ead91a81><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-ead91a81 data-v-288cbc95 data-v-b60171c1><span class="check" data-v-b60171c1><span class="icon" data-v-b60171c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-288cbc95><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-288cbc95><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-fd660878 data-v-164c457f data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/genesys/mollitia" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-a94e74d9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-fd660878 data-v-9b536d0b data-v-473f4f87><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-473f4f87><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-473f4f87><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-473f4f87><div class="VPMenu" data-v-473f4f87 data-v-97491713><!----><!--[--><!--[--><!----><div class="group" data-v-9b536d0b><div class="item appearance" data-v-9b536d0b><p class="label" data-v-9b536d0b>Appearance</p><div class="appearance-action" data-v-9b536d0b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-9b536d0b data-v-288cbc95 data-v-b60171c1><span class="check" data-v-b60171c1><span class="icon" data-v-b60171c1><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-288cbc95><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-288cbc95><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-9b536d0b><div class="item social-links" data-v-9b536d0b><div class="VPSocialLinks social-links-list" data-v-9b536d0b data-v-ee7a9424><!--[--><a class="VPSocialLink no-icon" href="https://github.com/genesys/mollitia" aria-label="github" target="_blank" rel="noopener" data-v-ee7a9424 data-v-a94e74d9><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-fd660878 data-v-5dea55bf><span class="container" data-v-5dea55bf><span class="top" data-v-5dea55bf></span><span class="middle" data-v-5dea55bf></span><span class="bottom" data-v-5dea55bf></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-63b43b87 data-v-eef76b70><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-eef76b70><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-eef76b70><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-eef76b70>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-eef76b70 data-v-1b525709><button data-v-1b525709>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-63b43b87 data-v-c3f8b67a><div class="curtain" data-v-c3f8b67a></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c3f8b67a><span class="visually-hidden" id="sidebar-aria-label" data-v-c3f8b67a> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-c3f8b67a><section class="VPSidebarItem level-0 collapsible" data-v-c3f8b67a data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h2 class="text" data-v-1cde40c8>Introduction</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-1cde40c8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-1cde40c8><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/what-is-mollitia" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>What is Mollitia?</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/design" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Design</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/getting-started" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Getting Started</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-c3f8b67a><section class="VPSidebarItem level-0 collapsible has-active" data-v-c3f8b67a data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h2 class="text" data-v-1cde40c8>API</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-1cde40c8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-1cde40c8><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/circuit" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Circuit</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible has-active" data-v-1cde40c8 data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h3 class="text" data-v-1cde40c8>Modules</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-1cde40c8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-1cde40c8><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/fallback" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Fallback</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/timeout" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Timeout</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/retry" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Retry</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/cache" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Cache</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/ratelimit" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Ratelimit</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/bulkhead" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Bulkhead</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-2 collapsible has-active" data-v-1cde40c8 data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h4 class="text" data-v-1cde40c8>Circuit Breaker</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-1cde40c8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-1cde40c8><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-3 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/breaker/sliding-count" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Sliding Count</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/api/modules/breaker/sliding-time" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Sliding Time</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-c3f8b67a><section class="VPSidebarItem level-0 collapsible" data-v-c3f8b67a data-v-1cde40c8><div class="item" role="button" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><h2 class="text" data-v-1cde40c8>Customization</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-1cde40c8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-1cde40c8><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/customization/modules" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Modules</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" tabindex="0" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/customization/addons" data-v-1cde40c8><!--[--><h3 class="text" data-v-1cde40c8>Addons</h3><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-1cde40c8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-1cde40c8><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-1cde40c8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/customization/addons/prometheus" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Prometheus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-1cde40c8 data-v-1cde40c8><div class="item" data-v-1cde40c8><div class="indicator" data-v-1cde40c8></div><a class="VPLink link link" href="/guide/customization/addons/redis" data-v-1cde40c8><!--[--><p class="text" data-v-1cde40c8>Redis</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-63b43b87 data-v-3cfaefff><div class="VPDoc has-sidebar has-aside" data-v-3cfaefff data-v-e521b9a4><!--[--><!--]--><div class="container" data-v-e521b9a4><div class="aside" data-v-e521b9a4><div class="aside-curtain" data-v-e521b9a4></div><div class="aside-container" data-v-e521b9a4><div class="aside-content" data-v-e521b9a4><div class="VPDocAside" data-v-e521b9a4 data-v-6d7b3c46><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-6d7b3c46 data-v-29d194e1><div class="content" data-v-29d194e1><div class="outline-marker" data-v-29d194e1></div><div class="outline-title" role="heading" aria-level="2" data-v-29d194e1>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-29d194e1><span class="visually-hidden" id="doc-outline-aria-label" data-v-29d194e1> Table of Contents for current page </span><ul class="root" data-v-29d194e1 data-v-bee2b9d1><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-6d7b3c46></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e521b9a4><div class="content-container" data-v-e521b9a4><!--[--><!--]--><!----><main class="main" data-v-e521b9a4><div style="position:relative;" class="vp-doc _guide_api_modules_breaker_sliding-count" data-v-e521b9a4><div><h1 id="sliding-count" tabindex="-1">Sliding Count <a class="header-anchor" href="#sliding-count" aria-label="Permalink to &quot;Sliding Count&quot;">​</a></h1><!----><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><p>The Circuit Breaker has 3 possible states:</p><ul><li><code>CLOSED</code></li><li><code>OPEN</code></li><li><code>HALF_OPEN</code></li></ul><p>When the circuit is opened, all the iterations are failing fast</p><p>When the circuit is half opened, a certain number of iterations are authorized. When this number is reached, the failure and slow call rate thresholds are checked to see if the circuit should be opened or closed.</p><p>When the circuit is closed, a sliding window is used to store the outcome of calls. The count-based sliding window calculates the outcome of the last N calls, and decides if the circuit should be opened (if the failure or slow call rate thresholds are exceeded) For example, if the count window size is 10, the circular array has always 10 measurements.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">*</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> Mollitia </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;mollitia&#39;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#6A737D;">// Creates a circuit</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">circuit</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> Mollitia.</span><span style="color:#B392F0;">Circuit</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  name: </span><span style="color:#9ECBFF;">&#39;my-circuit&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  options: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    modules: [</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#6A737D;">// Creates Sliding Count Breaker Module</span></span>
<span class="line"><span style="color:#E1E4E8;">			</span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> Mollitia.</span><span style="color:#B392F0;">SlidingCountBreaker</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">				name: </span><span style="color:#9ECBFF;">&#39;my-sliding-count-breaker&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">				slidingWindowSize: </span><span style="color:#79B8FF;">6</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// Failure Rate Calculation is done on the last 6 iterations</span></span>
<span class="line"><span style="color:#E1E4E8;">				minimumNumberOfCalls: </span><span style="color:#79B8FF;">3</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// 3 iterations are needed to start calculating the failure rate, and see if circuit should be opened or not</span></span>
<span class="line"><span style="color:#E1E4E8;">				failureRateThreshold: </span><span style="color:#79B8FF;">50</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// If half of the iterations or more are failing, the circuit is switched to Opened state.</span></span>
<span class="line"><span style="color:#E1E4E8;">				slowCallDurationThreshold: </span><span style="color:#79B8FF;">1000</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// An iteration is considered as being slow if the iteration lasts more than 1s</span></span>
<span class="line"><span style="color:#E1E4E8;">				slowCallRateThreshold: </span><span style="color:#79B8FF;">80</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// If at least 80% of the iterations are considered as being slow, the circuit is switched to Opened state.</span></span>
<span class="line"><span style="color:#E1E4E8;">				permittedNumberOfCallsInHalfOpenState: </span><span style="color:#79B8FF;">2</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">// When the circuit is in Half Opened state, the circuit accepts 2 iterations in this state.</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">// Once these 2 iterations are received, failure rate is calculated on these iterations.</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">// If failure rate is lower than failureRateThreshold, the circuit is switched to Closed state.</span></span>
<span class="line"><span style="color:#E1E4E8;">				</span><span style="color:#6A737D;">// If the failure rate is higher or equal to failureRateThreshold, the circuit is switched to Opened state.</span></span>
<span class="line"><span style="color:#E1E4E8;">				openStateDelay: </span><span style="color:#79B8FF;">10000</span><span style="color:#E1E4E8;"> </span><span style="color:#6A737D;">// The circuit stays in Opened state for 10s</span></span>
<span class="line"><span style="color:#E1E4E8;">			})</span></span>
<span class="line"><span style="color:#E1E4E8;">		]</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> circuit.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">(myFunction).</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> circuit.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">(myFunction2).</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">// When this 3rd iteration is received, failureRate and slowCallRate is calculated</span></span>
<span class="line"><span style="color:#6A737D;">// If the 3 iterations lasts less than 1s and are all success, then the circuit is still closed</span></span>
<span class="line"><span style="color:#6A737D;">// The circuit is opened if:</span></span>
<span class="line"><span style="color:#6A737D;">//   - at least 2 iterations failed (failure rate is 66% (2 iterations failing) or 100% (3 iterations failing), which is &gt; 50 (failureRateThreshold))</span></span>
<span class="line"><span style="color:#6A737D;">//   - or all the iterations are slow (as slowCallRateThreshold is 80%)</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> circuit.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">(myFunction3).</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">// If</span></span>
<span class="line"><span style="color:#6A737D;">//   - circuit is still closed, then the failure rate and slow call rate threshold will be calculated when a new iteration is received</span></span>
<span class="line"><span style="color:#6A737D;">//   - circuit is opened, then the iterations are failing fast</span></span>
<span class="line"><span style="color:#6A737D;">// Here, 4th iteration received. Calculation will be done on the 4th iterations</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> circuit.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">(myFunction4).</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">// Here, 5th iteration received. Calculation will be done on the 4 iterations</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> circuit.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">(myFunction5).</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">// Here, 6th iteration received. Calculation will be done on the 6 iterations</span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> circuit.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">(myFunction6).</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#6A737D;">// Here, number of iterations is 7. So, the 1st iteration is no longer taken into account and the calculation is done on iterations 2 to 7 </span></span>
<span class="line"><span style="color:#F97583;">await</span><span style="color:#E1E4E8;"> circuit.</span><span style="color:#B392F0;">fn</span><span style="color:#E1E4E8;">(myFunction7).</span><span style="color:#B392F0;">execute</span><span style="color:#E1E4E8;">();</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> Mollitia </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;mollitia&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#6A737D;">// Creates a circuit</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">circuit</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Mollitia.</span><span style="color:#6F42C1;">Circuit</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&#39;my-circuit&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  options: {</span></span>
<span class="line"><span style="color:#24292E;">    modules: [</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#6A737D;">// Creates Sliding Count Breaker Module</span></span>
<span class="line"><span style="color:#24292E;">			</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Mollitia.</span><span style="color:#6F42C1;">SlidingCountBreaker</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">				name: </span><span style="color:#032F62;">&#39;my-sliding-count-breaker&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">				slidingWindowSize: </span><span style="color:#005CC5;">6</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// Failure Rate Calculation is done on the last 6 iterations</span></span>
<span class="line"><span style="color:#24292E;">				minimumNumberOfCalls: </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 3 iterations are needed to start calculating the failure rate, and see if circuit should be opened or not</span></span>
<span class="line"><span style="color:#24292E;">				failureRateThreshold: </span><span style="color:#005CC5;">50</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// If half of the iterations or more are failing, the circuit is switched to Opened state.</span></span>
<span class="line"><span style="color:#24292E;">				slowCallDurationThreshold: </span><span style="color:#005CC5;">1000</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// An iteration is considered as being slow if the iteration lasts more than 1s</span></span>
<span class="line"><span style="color:#24292E;">				slowCallRateThreshold: </span><span style="color:#005CC5;">80</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// If at least 80% of the iterations are considered as being slow, the circuit is switched to Opened state.</span></span>
<span class="line"><span style="color:#24292E;">				permittedNumberOfCallsInHalfOpenState: </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// When the circuit is in Half Opened state, the circuit accepts 2 iterations in this state.</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">// Once these 2 iterations are received, failure rate is calculated on these iterations.</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">// If failure rate is lower than failureRateThreshold, the circuit is switched to Closed state.</span></span>
<span class="line"><span style="color:#24292E;">				</span><span style="color:#6A737D;">// If the failure rate is higher or equal to failureRateThreshold, the circuit is switched to Opened state.</span></span>
<span class="line"><span style="color:#24292E;">				openStateDelay: </span><span style="color:#005CC5;">10000</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// The circuit stays in Opened state for 10s</span></span>
<span class="line"><span style="color:#24292E;">			})</span></span>
<span class="line"><span style="color:#24292E;">		]</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> circuit.</span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(myFunction).</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> circuit.</span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(myFunction2).</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// When this 3rd iteration is received, failureRate and slowCallRate is calculated</span></span>
<span class="line"><span style="color:#6A737D;">// If the 3 iterations lasts less than 1s and are all success, then the circuit is still closed</span></span>
<span class="line"><span style="color:#6A737D;">// The circuit is opened if:</span></span>
<span class="line"><span style="color:#6A737D;">//   - at least 2 iterations failed (failure rate is 66% (2 iterations failing) or 100% (3 iterations failing), which is &gt; 50 (failureRateThreshold))</span></span>
<span class="line"><span style="color:#6A737D;">//   - or all the iterations are slow (as slowCallRateThreshold is 80%)</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> circuit.</span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(myFunction3).</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// If</span></span>
<span class="line"><span style="color:#6A737D;">//   - circuit is still closed, then the failure rate and slow call rate threshold will be calculated when a new iteration is received</span></span>
<span class="line"><span style="color:#6A737D;">//   - circuit is opened, then the iterations are failing fast</span></span>
<span class="line"><span style="color:#6A737D;">// Here, 4th iteration received. Calculation will be done on the 4th iterations</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> circuit.</span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(myFunction4).</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// Here, 5th iteration received. Calculation will be done on the 4 iterations</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> circuit.</span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(myFunction5).</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// Here, 6th iteration received. Calculation will be done on the 6 iterations</span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> circuit.</span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(myFunction6).</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// Here, number of iterations is 7. So, the 1st iteration is no longer taken into account and the calculation is done on iterations 2 to 7 </span></span>
<span class="line"><span style="color:#D73A49;">await</span><span style="color:#24292E;"> circuit.</span><span style="color:#6F42C1;">fn</span><span style="color:#24292E;">(myFunction7).</span><span style="color:#6F42C1;">execute</span><span style="color:#24292E;">();</span></span></code></pre></div><p><img src="/img/circuit-breaker-diagram.png" alt="Circuit Breaker - Diagram"></p><h2 id="api-reference" tabindex="-1">API Reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API Reference&quot;">​</a></h2><h3 id="options" tabindex="-1">Options <a class="header-anchor" href="#options" aria-label="Permalink to &quot;Options&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Description</th><th style="text-align:left;">Default</th></tr></thead><tbody><tr><td style="text-align:left;"><code>state</code></td><td style="text-align:left;">Specifies the circuit state</td><td style="text-align:left;"><code>CLOSED</code></td></tr><tr><td style="text-align:left;"><code>failureRateThreshold</code></td><td style="text-align:left;">Specifies the failure rate threshold in percentage</td><td style="text-align:left;"><code>50</code></td></tr><tr><td style="text-align:left;"><code>slowCallRateThreshold</code></td><td style="text-align:left;">Specifies the slow duration threshold. A call is considered <strong>slow</strong> when duration <code>&gt;=</code> than <code>slowCallDurationThreshold</code></td><td style="text-align:left;"><code>100</code></td></tr><tr><td style="text-align:left;"><code>slowCallDurationThreshold</code></td><td style="text-align:left;">Specifies the duration (in ms) threshold above which calls are considered as slow</td><td style="text-align:left;"><code>60000</code></td></tr><tr><td style="text-align:left;"><code>permittedNumberOfCallsInHalfOpenState</code></td><td style="text-align:left;">Specifies the number of permitted calls when the circuit is half open</td><td style="text-align:left;"><code>2</code></td></tr><tr><td style="text-align:left;"><code>halfOpenStateMaxDelay</code></td><td style="text-align:left;">Specifies the maximum wait (in ms) in Half Open State, before switching back to open. 0 deactivates this</td><td style="text-align:left;"><code>0</code></td></tr><tr><td style="text-align:left;"><code>slidingWindowSize</code></td><td style="text-align:left;">Specifies the maximum number of calls used to calculate failure and slow call rate percentages</td><td style="text-align:left;"><code>10</code></td></tr><tr><td style="text-align:left;"><code>minimumNumberOfCalls</code></td><td style="text-align:left;">Specifies the minimum number of calls used to calculate failure and slow call rate percentages</td><td style="text-align:left;"><code>10</code></td></tr><tr><td style="text-align:left;"><code>openStateDelay</code></td><td style="text-align:left;">Specifies the time (in ms) the circuit stay opened before switching to half-open</td><td style="text-align:left;"><code>60000</code></td></tr><tr><td style="text-align:left;"><code>onError</code></td><td style="text-align:left;">Allows filtering of the error to report as a failure or not.</td><td style="text-align:left;"><code>None</code></td></tr></tbody></table><h3 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-label="Permalink to &quot;Methods&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Description</th><th style="text-align:left;">Returns</th></tr></thead><tbody><tr><td style="text-align:left;"><code>getExecParams()</code></td><td style="text-align:left;">Returns the circuit function parameters.</td><td style="text-align:left;"><code>any[]</code> <strong>params</strong></td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Description</th><th style="text-align:left;">Params</th></tr></thead><tbody><tr><td style="text-align:left;"><code>execute</code></td><td style="text-align:left;">Called when the module is executed.</td><td style="text-align:left;"><code>Mollitia.Circuit</code> <strong>circuit</strong>, <code>Promise&lt;T&gt;</code> <strong>promise</strong>, <code>any[]</code> <strong>params</strong></td></tr><tr><td style="text-align:left;"><code>state-changed</code></td><td style="text-align:left;">Called when the breaker state changes.</td><td style="text-align:left;"><code>Mollitia.BreakerState</code> <strong>state</strong></td></tr></tbody></table></div></div></main><footer class="VPDocFooter" data-v-e521b9a4 data-v-9519b7ec><!--[--><!--]--><!----><nav class="prev-next" data-v-9519b7ec><div class="pager" data-v-9519b7ec><a class="pager-link prev" href="/guide/api/modules/bulkhead" data-v-9519b7ec><span class="desc" data-v-9519b7ec>Previous page</span><span class="title" data-v-9519b7ec>Bulkhead</span></a></div><div class="pager" data-v-9519b7ec><a class="pager-link next" href="/guide/api/modules/breaker/sliding-time" data-v-9519b7ec><span class="desc" data-v-9519b7ec>Next page</span><span class="title" data-v-9519b7ec>Sliding Time</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_customization_addons.md\":\"2fae4ef8\",\"guide_api_modules_fallback.md\":\"be15e6c0\",\"guide_api_circuit.md\":\"e0204e67\",\"guide_api_modules_bulkhead.md\":\"cff6b10c\",\"guide_getting-started.md\":\"6e679841\",\"guide_design.md\":\"42dbfba5\",\"guide_customization_modules.md\":\"d676be42\",\"guide_api_modules_ratelimit.md\":\"d410b04f\",\"guide_api_modules_breaker_sliding-count.md\":\"b5350619\",\"guide_api_modules_cache.md\":\"d46047e8\",\"guide_what-is-mollitia.md\":\"2f089ed0\",\"index.md\":\"b84247df\",\"guide_api_modules_timeout.md\":\"a034493e\",\"guide_api_modules_retry.md\":\"b5cc957d\",\"guide_customization_addons_prometheus.md\":\"bc9d93a9\",\"guide_customization_addons_redis.md\":\"dfd5ce88\",\"guide_api_modules_breaker_sliding-time.md\":\"a2ca345c\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Mollitia\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"/favicon.svg\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/what-is-mollitia\",\"activeMatch\":\"/guide/\"},{\"text\":\"Links\",\"items\":[{\"text\":\"Contributing\",\"link\":\"https://github.com/genesys/mollitia/blob/main/CONTRIBUTING.md\"},{\"text\":\"Changelog\",\"link\":\"https://github.com/genesys/mollitia/blob/main/CHANGELOG.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/genesys/mollitia\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"Introduction\",\"collapsed\":false,\"items\":[{\"text\":\"What is Mollitia?\",\"link\":\"/guide/what-is-mollitia\"},{\"text\":\"Design\",\"link\":\"/guide/design\"},{\"text\":\"Getting Started\",\"link\":\"/guide/getting-started\"}]},{\"text\":\"API\",\"collapsed\":false,\"items\":[{\"text\":\"Circuit\",\"link\":\"/guide/api/circuit\"},{\"text\":\"Modules\",\"collapsed\":false,\"items\":[{\"text\":\"Fallback\",\"link\":\"/guide/api/modules/fallback\"},{\"text\":\"Timeout\",\"link\":\"/guide/api/modules/timeout\"},{\"text\":\"Retry\",\"link\":\"/guide/api/modules/retry\"},{\"text\":\"Cache\",\"link\":\"/guide/api/modules/cache\"},{\"text\":\"Ratelimit\",\"link\":\"/guide/api/modules/ratelimit\"},{\"text\":\"Bulkhead\",\"link\":\"/guide/api/modules/bulkhead\"},{\"text\":\"Circuit Breaker\",\"collapsed\":false,\"items\":[{\"text\":\"Sliding Count\",\"link\":\"/guide/api/modules/breaker/sliding-count\"},{\"text\":\"Sliding Time\",\"link\":\"/guide/api/modules/breaker/sliding-time\"}]}]}]},{\"text\":\"Customization\",\"collapsed\":false,\"items\":[{\"text\":\"Modules\",\"link\":\"/guide/customization/modules\"},{\"text\":\"Addons\",\"link\":\"/guide/customization/addons\",\"collapsed\":false,\"items\":[{\"text\":\"Prometheus\",\"link\":\"/guide/customization/addons/prometheus\"},{\"text\":\"Redis\",\"link\":\"/guide/customization/addons/redis\"}]}]}]},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>